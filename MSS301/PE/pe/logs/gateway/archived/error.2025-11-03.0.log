2025-11-03 21:14:16 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:14:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:14:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:14:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-03 21:14:17 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=54c41f66-2e91-3b36-a428-152f3291e57e
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:14:18 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:14:18 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:14:18 [main] INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 4000 (http)
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}} to RewritePath
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying {_genkey_0=/api/brand/**} to Path
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}} to RewritePath
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: brand-service
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying {_genkey_0=/api/blindboxes/**} to Path
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}} to RewritePath
2025-11-03 21:14:18 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: blindboxes-service
2025-11-03 21:14:47 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service
2025-11-03 21:14:47 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/auth/login] to Route{id='auth-service', uri=http://localhost:4007, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2]], metadata={}}
2025-11-03 21:14:47 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [8a89fdb5-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@71668a67
2025-11-03 21:14:47 [reactor-http-epoll-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@795faad}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@25e95af1}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@65015a49}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@47e60b71}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@295f2d1b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1eb9d69a}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@17ae13d5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@44e08a7a}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78bd02c8}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@36511772}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@28dacf31}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@69f3e556}, order = 2147483647]]
2025-11-03 21:15:11 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service
2025-11-03 21:15:11 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:4000/api/auth/users/test-only] to Route{id='auth-service', uri=http://localhost:4007, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2]], metadata={}}
2025-11-03 21:15:11 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [bb8c4741-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@71668a67
2025-11-03 21:15:11 [reactor-http-epoll-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@795faad}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@25e95af1}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@65015a49}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@47e60b71}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@295f2d1b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1eb9d69a}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@17ae13d5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@44e08a7a}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78bd02c8}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@36511772}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@28dacf31}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@69f3e556}, order = 2147483647]]
2025-11-03 21:18:26 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:18:26 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:18:26 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [81d2a938-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@71668a67
2025-11-03 21:18:26 [reactor-http-epoll-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@795faad}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@25e95af1}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@65015a49}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@47e60b71}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@295f2d1b}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1eb9d69a}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@17ae13d5}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@44e08a7a}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78bd02c8}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@36511772}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@28dacf31}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@69f3e556}, order = 2147483647]]
2025-11-03 21:27:35 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 21:27:35 [netty-shutdown] INFO  o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-11-03 21:27:47 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:27:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:27:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:27:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-03 21:27:48 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=54c41f66-2e91-3b36-a428-152f3291e57e
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:27:49 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:27:49 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:27:49 [main] INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 4000 (http)
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}} to RewritePath
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying {_genkey_0=/api/brand/**} to Path
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}} to RewritePath
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: brand-service
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying {_genkey_0=/api/blindboxes/**} to Path
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}} to RewritePath
2025-11-03 21:27:49 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: blindboxes-service
2025-11-03 21:45:24 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:45:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:45:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:45:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-03 21:45:25 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=54c41f66-2e91-3b36-a428-152f3291e57e
2025-11-03 21:45:26 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:45:26 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:45:27 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:45:29 [main] WARN  o.s.b.w.r.c.AnnotationConfigReactiveWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-03 21:45:29 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-03 21:45:29 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 4000 was already in use.

Action:

Identify and stop the process that's listening on port 4000 or configure this application to listen on another port.

2025-11-03 21:48:21 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:48:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:48:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:48:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-11-03 21:48:22 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c03b49f8-178b-396a-b8a2-bc3b0160c9bf
2025-11-03 21:48:23 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:48:23 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:48:23 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:48:25 [main] WARN  o.s.b.w.r.c.AnnotationConfigReactiveWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-03 21:48:37 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:48:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:48:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:48:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-03 21:48:38 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c03b49f8-178b-396a-b8a2-bc3b0160c9bf
2025-11-03 21:48:39 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:48:39 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:48:40 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:48:42 [main] WARN  o.s.b.w.r.c.AnnotationConfigReactiveWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-03 21:48:42 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-03 21:48:42 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 4000 was already in use.

Action:

Identify and stop the process that's listening on port 4000 or configure this application to listen on another port.

2025-11-03 21:49:34 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 21:49:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 21:49:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 21:49:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-03 21:49:35 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c03b49f8-178b-396a-b8a2-bc3b0160c9bf
2025-11-03 21:49:36 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 21:49:36 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 21:49:36 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 21:49:39 [main] WARN  o.s.b.w.r.c.AnnotationConfigReactiveWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-03 21:49:39 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-03 21:49:39 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 4000 was already in use.

Action:

Identify and stop the process that's listening on port 4000 or configure this application to listen on another port.

2025-11-03 21:53:46 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:53:46 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: GET http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:53:46 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [51280e3c-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:53:46 [reactor-http-epoll-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:54:04 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service
2025-11-03 21:54:04 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/auth/login] to Route{id='auth-service', uri=http://localhost:4007, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2]], metadata={}}
2025-11-03 21:54:04 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [f6a0bdcb-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:54:04 [reactor-http-epoll-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:54:49 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:54:49 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:54:49 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [6cf804bb-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:54:49 [reactor-http-epoll-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:55:01 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:55:01 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:55:01 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [f3dbcc59-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:55:01 [reactor-http-epoll-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:55:11 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: auth-service
2025-11-03 21:55:11 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/auth/login] to Route{id='auth-service', uri=http://localhost:4007, order=0, predicate=Paths: [/api/auth/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2]], metadata={}}
2025-11-03 21:55:11 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [dfb97a82-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:55:11 [reactor-http-epoll-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/auth/(?<segment>.*) = '/api/auth/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:55:43 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:55:43 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:55:43 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [ad2371bf-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:55:43 [reactor-http-epoll-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:56:17 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:56:17 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:56:17 [reactor-http-epoll-4] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [7eaa7da1-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:56:17 [reactor-http-epoll-4] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:56:27 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:56:27 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:56:27 [reactor-http-epoll-1] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [0dbbb8c2-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:56:27 [reactor-http-epoll-1] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:56:29 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:56:29 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: POST http://localhost:4000/api/blindboxes] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:56:29 [reactor-http-epoll-2] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [19d4c3c0-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:56:29 [reactor-http-epoll-2] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 21:56:47 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Route matched: blindboxes-service
2025-11-03 21:56:47 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - Mapping [Exchange: DELETE http://localhost:4000/api/blindboxes/3] to Route{id='blindboxes-service', uri=http://localhost:4006, order=0, predicate=Paths: [/api/blindboxes/**], match trailing slash: true, gatewayFilters=[[[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2]], metadata={}}
2025-11-03 21:56:47 [reactor-http-epoll-3] DEBUG o.s.c.g.h.RoutePredicateHandlerMapping - [74226c4d-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7497a554
2025-11-03 21:56:47 [reactor-http-epoll-3] DEBUG o.s.c.g.handler.FilteringWebHandler - Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@283bb8b7}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@45311a99}, order = -2147482648], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.LoggingFilter@48692405}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f44d033}, order = -1], [GatewayFilterAdapter{delegate=com.fpt.mss.apigateway_se181513.filter.JwtAuthenticationFilter@af9dd34}, order = 0], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@6644bdf5}, order = 0], [[AddRequestHeader X-From-Gateway = 'true'], order = 1], [[RewritePath /api/blindboxes/(?<segment>.*) = '/api/blindboxes/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@25e95af1}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@151659dd}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4a58e0e9}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@13cf5f8a}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@e8c84eb}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@4fa8297b}, order = 2147483647]]
2025-11-03 22:02:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 22:02:15 [netty-shutdown] INFO  o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
2025-11-03 22:02:39 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-03 22:02:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-03 22:02:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-03 22:02:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-03 22:02:41 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=c03b49f8-178b-396a-b8a2-bc3b0160c9bf
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.config.GatewayProperties - Routes supplied from Gateway Properties: [RouteDefinition{id='auth-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/auth/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}}}], uri=http://localhost:4007, order=0, metadata={}, enabled=true}, RouteDefinition{id='brand-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/brand/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}}}], uri=http://localhost:4005, order=0, metadata={}, enabled=true}, RouteDefinition{id='blindboxes-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blindboxes/**}}], filters=[FilterDefinition{name='AddRequestHeader', args={_genkey_0=X-From-Gateway, _genkey_1=true}}, FilterDefinition{name='RewritePath', args={_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}}}], uri=http://localhost:4006, order=0, metadata={}, enabled=true}]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [After]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Before]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Between]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Cookie]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Header]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Host]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Method]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Path]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Query]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [ReadBody]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [RemoteAddr]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [Weight]
2025-11-03 22:02:42 [main] INFO  o.s.c.g.r.RouteDefinitionRouteLocator - Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-11-03 22:02:42 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-11-03 22:02:42 [main] INFO  o.s.b.w.e.netty.NettyWebServer - Netty started on port 4000 (http)
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying {_genkey_0=/api/auth/**} to Path
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition auth-service applying filter {_genkey_0=/api/auth/(?<segment>.*), _genkey_1=/api/auth/$\{segment}} to RewritePath
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: auth-service
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying {_genkey_0=/api/brand/**} to Path
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition brand-service applying filter {_genkey_0=/api/brand/(?<segment>.*), _genkey_1=/api/brand/$\{segment}} to RewritePath
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: brand-service
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying {_genkey_0=/api/blindboxes/**} to Path
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=X-From-Gateway, _genkey_1=true} to AddRequestHeader
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition blindboxes-service applying filter {_genkey_0=/api/blindboxes/(?<segment>.*), _genkey_1=/api/blindboxes/$\{segment}} to RewritePath
2025-11-03 22:02:42 [main] DEBUG o.s.c.g.r.RouteDefinitionRouteLocator - RouteDefinition matched: blindboxes-service
2025-11-03 22:43:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.netty.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 22:43:47 [netty-shutdown] INFO  o.s.b.w.e.netty.GracefulShutdown - Graceful shutdown complete
